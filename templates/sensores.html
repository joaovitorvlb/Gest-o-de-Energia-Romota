{% extends "base.html" %}
{% block content %}

<div class="container-fluid">
    <div class="panel panel-info">
        <div class="panel-heading">
         Potenciometro
        </div>
        <div class="panel-body">
            <span class="input-group-btn">
                <button class="btn btn-success" type="button" id="bt_potenciometro_update">
                    <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span>
                    update
                </button>
            </span>
             <input type="checkbox" aria-label="autoupdate" id="autoupdate_potenciometro"> autoupdate
            <br />
            <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="500" aria-valuemin="0" aria-valuemax="1023"  id="barra_potenciometro">
                500
            </div>
        </div>
    </div>
    <br /><br />

    <div class="panel panel-info">
        <div class="panel-heading">
         Temperatura
        </div>
        <div class="panel-body">
            <span class="input-group-btn">
                <button class="btn btn-success" type="button" id="bt_temperatura_update">
                    <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span>
                    update
                </button>
            </span>
             <input type="checkbox" aria-label="autoupdate" id="autoupdate_temperatura"> autoupdate
            <br/>
            <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="500" aria-valuemin="0" aria-valuemax="1023"  id="barra_temperatura">
                500
            </div>
            
        </div>
    </div>

    <br/><br/>
</div>
<div class="panel panel-info">
    <div class="panel-heading">
      Exibiacao em gauges
    </div>
    <div class="panel-body">
        <div class="row">
            <div class="col-md-6">
                <div id = "container1" style = "width: 550px; height: 400px; margin: 0 auto"> </div> 
            </div>
            <div class="col-md-6">
                <div id = "container2" style = "width: 550px; height: 400px; margin: 0 auto"> </div> 
            </div>
        </div>
    </div>
</div>

<div class="panel panel-info">
    <div class="panel-heading">
      Exibiacao em Slyder
    </div>
    <div class="panel-body">
        <div class="row">
            <div class="col-md-6">
                <div id = "containerSl1" style = "width: 550px; height: 400px; margin: 0 auto"> </div> 
            </div>
            <div class="col-md-6">
                <div id = "joystickContent" class="span12 pagination-centered"> </div> 
                <div>
                    x: <span id="xVal"></span><br/>
                    y: <span id="yVal"></span><br/>
                </div>
            </div>
        </div>
    </div>
    <div>
        <input type="text" id="valbox" value="60"/>
        <button onclick="updateValSl1();">Set value</button>
    </div>
</div>    

<script language = "JavaScript">
        Highcharts.chart('container1', {

    chart: {
                type: 'gauge',
                plotBackgroundColor: null,
                plotBackgroundImage: null,
                plotBorderWidth: 0,
                plotShadow: false
            },

    title:  {
                text: 'Potenciometro'
            },

    pane:   {
            startAngle: -150,
            endAngle: 150,
            background: [{
                            backgroundColor:   {
                   linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1 },
                    stops: [
                    [0, '#FFF'],
                        [1, '#333']
                    ]
                },
            borderWidth: 0,
            outerRadius: '109%'
        }, {
            backgroundColor: {
                linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1 },
                stops: [
                    [0, '#333'],
                    [1, '#FFF']
                ]
            },
            borderWidth: 1,
            outerRadius: '107%'
        }, {
            // default background
        }, {
            backgroundColor: '#DDD',
            borderWidth: 0,
            outerRadius: '105%',
            innerRadius: '103%'
        }]
    },

    // the value axis
    yAxis: {
        min: 0,
        max: 1023,

        minorTickInterval: 'auto',
        minorTickWidth: 1,
        minorTickLength: 10,
        minorTickPosition: 'inside',
        minorTickColor: '#666',

        tickPixelInterval: 30,
        tickWidth: 2,
        tickPosition: 'inside',
        tickLength: 10,
        tickColor: '#666',
        labels: {
            step: 2,
            rotation: 'auto'
        },
        title: {
            text: '째C'
        },
        plotBands: [{
            from: 0,
            to: 680,
            color: '#55BF3B' // green
        }, {
            from: 680,
            to: 960,
            color: '#DDDF0D' // yellow
        }, {
            from: 960,
            to: 1023,
            color: '#DF5353' // red
        }]
        },

        series: [{
            name: 'Speed',
            data: [0],
            tooltip: {
                valueSuffix: '째C'
            }
        }]

    },
    // Add some life
    function(chart) 
    {
        if (!chart.renderer.forExport)
        {
            setInterval(function()
            {
                var point = chart.series[0].points[0]
                var ValorDaDivStr = $("#barra_potenciometro").text();  
                var ValorDaDivInt = parseInt(ValorDaDivStr)
                point.update(ValorDaDivInt);

            }, 500);
        }
    });
</script>

<script language = "JavaScript">
        Highcharts.chart('container2', {

    chart: {
                type: 'gauge',
                plotBackgroundColor: null,
                plotBackgroundImage: null,
                plotBorderWidth: 0,
                plotShadow: false
            },

    title:  {
                text: 'Temperatura'
            },

    pane:   {
            startAngle: -150,
            endAngle: 150,
            background: [{
                            backgroundColor:   {
                   linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1 },
                    stops: [
                    [0, '#FFF'],
                        [1, '#333']
                    ]
                },
            borderWidth: 0,
            outerRadius: '109%'
        }, {
            backgroundColor: {
                linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1 },
                stops: [
                    [0, '#333'],
                    [1, '#FFF']
                ]
            },
            borderWidth: 1,
            outerRadius: '107%'
        }, {
            // default background
        }, {
            backgroundColor: '#DDD',
            borderWidth: 0,
            outerRadius: '105%',
            innerRadius: '103%'
        }]
    },

    // the value axis
    yAxis: {
        min: 0,
        max: 60,

        minorTickInterval: 'auto',
        minorTickWidth: 1,
        minorTickLength: 10,
        minorTickPosition: 'inside',
        minorTickColor: '#666',

        tickPixelInterval: 30,
        tickWidth: 2,
        tickPosition: 'inside',
        tickLength: 10,
        tickColor: '#666',
        labels: {
            step: 2,
            rotation: 'auto'
        },
        title: {
            text: '째C'
        },
        plotBands: [{
            from: 0,
            to: 38,
            color: '#55BF3B' // green
        }, {
            from: 38,
            to: 45,
            color: '#DDDF0D' // yellow
        }, {
            from: 45,
            to: 60,
            color: '#DF5353' // red
        }]
        },

        series: [{
            name: 'Speed',
            data: [0],
            tooltip: {
                valueSuffix: '째C'
            }
        }]

    },
    // Add some life
    function(chart) 
    {
        if (!chart.renderer.forExport)
        {
            setInterval(function()
            {
                var point = chart.series[0].points[0]
                var ValorDaDivStr = $("#barra_temperatura").text();  
                var ValorDaDivInt = parseInt(ValorDaDivStr)
                point.update(ValorDaDivInt);

            }, 500);
        }
    });
</script>
<script type="text/javascript">
        var slider;
        window.onload = function () 
        {
            //widget model
            var jsonModel = {"Active":true,"BreakEventsBubbling":false,"CssClass":{},"Fill":null,"JSBindingsText":null,"Name":"Instrument","RecalculateAll":false,"Smooth":true,"Stroke":{"__type":"EmptyStroke:#PerpetuumSoft.Framework.Drawing","Width":0},"Style":"Default","ToolTipValue":null,"Visible":true,"Elements":[{"__type":"Rectangle:#PerpetuumSoft.Instrumentation.Model","Active":true,"BreakEventsBubbling":false,"CssClass":{},"Fill":{"__type":"SolidFill:#PerpetuumSoft.Framework.Drawing","Color":{"knownColor":164,"name":null,"state":1,"value":0}},"JSBindingsText":"this.setCenter((this.getInstrument().getByName('Instrument') .getSize().divideByNumber(2)));\u000athis.setSize(new PerfectWidgets.Framework.DataObjects.Vector((this.getInstrument().getByName('Instrument') .getSize() .getX()*0.975),(this.getInstrument().getByName('Instrument') .getSize() .getY()*0.99)));\u000a","Name":"Rectangle2","RecalculateAll":false,"Smooth":true,"Stroke":{"__type":"EmptyStroke:#PerpetuumSoft.Framework.Drawing","Width":0},"Style":"Default","ToolTipValue":null,"Visible":true,"Center":{"Height":400,"Length":784.61774132376081,"Rotation":0.53495507378609641,"Width":675,"X":675,"Y":400},"Size":{"Height":792,"Length":1536.1569133718078,"Rotation":0.54167546544790612,"Width":1316.25,"X":1316.25,"Y":792},"Angle":0},{"__type":"Rectangle:#PerpetuumSoft.Instrumentation.Model","Active":true,"BreakEventsBubbling":false,"CssClass":{},"Fill":{"__type":"SolidFill:#PerpetuumSoft.Framework.Drawing","Color":{"knownColor":35,"name":null,"state":1,"value":0}},"JSBindingsText":"this.setCenter((this.getInstrument().getByName('Instrument') .getSize().divideByNumber(2)));\u000athis.setSize(new PerfectWidgets.Framework.DataObjects.Vector((this.getInstrument().getByName('Instrument') .getSize() .getX()*0.93),(this.getInstrument().getByName('Instrument') .getSize() .getY()*0.93)));\u000a","Name":"Rectangle1","RecalculateAll":false,"Smooth":true,"Stroke":{"__type":"EmptyStroke:#PerpetuumSoft.Framework.Drawing","Width":0},"Style":"Default","ToolTipValue":null,"Visible":true,"Center":{"Height":400,"Length":784.61774132376081,"Rotation":0.53495507378609641,"Width":675,"X":675,"Y":400},"Size":{"Height":744,"Length":1459.388998862195,"Rotation":0.53495507378609641,"Width":1255.5,"X":1255.5,"Y":744},"Angle":0},{"__type":"Guide:#PerpetuumSoft.Instrumentation.Model","Active":true,"BreakEventsBubbling":false,"CssClass":{},"Fill":null,"JSBindingsText":"this.setEndPoint(new PerfectWidgets.Framework.DataObjects.Vector((this.getInstrument().getByName('Instrument') .getSize() .getX()*0.9),(this.getInstrument().getByName('Instrument') .getSize() .getY()*0.5)));\u000athis.setStartPoint(new PerfectWidgets.Framework.DataObjects.Vector((this.getInstrument().getByName('Instrument') .getSize() .getX()*0.24),(this.getInstrument().getByName('Instrument') .getSize() .getY()*0.5)));\u000a","Name":"Guide1","RecalculateAll":false,"Smooth":true,"Stroke":{"__type":"SimpleStroke:#PerpetuumSoft.Framework.Drawing","Width":1,"Color":{"knownColor":35,"name":null,"state":1,"value":0},"DashLenght":5,"DotLenght":1,"SpaceLenght":2,"Style":1},"Style":"Default","ToolTipValue":null,"Visible":true,"Elements":[{"__type":"Scale:#PerpetuumSoft.Instrumentation.Model","Active":true,"BreakEventsBubbling":false,"CssClass":{},"Fill":null,"JSBindingsText":null,"Name":"Scale1","RecalculateAll":false,"Smooth":true,"Stroke":{"__type":"SimpleStroke:#PerpetuumSoft.Framework.Drawing","Width":1,"Color":{"knownColor":35,"name":null,"state":1,"value":0},"DashLenght":5,"DotLenght":1,"SpaceLenght":2,"Style":1},"Style":"Default","ToolTipValue":null,"Visible":true,"Elements":[{"__type":"Slider:#PerpetuumSoft.Instrumentation.Model","Active":true,"BreakEventsBubbling":false,"CssClass":{},"Fill":null,"JSBindingsText":null,"Name":"Slider1","RecalculateAll":false,"Smooth":true,"Stroke":{"__type":"SimpleStroke:#PerpetuumSoft.Framework.Drawing","Width":1,"Color":{"knownColor":35,"name":null,"state":1,"value":0},"DashLenght":5,"DotLenght":1,"SpaceLenght":2,"Style":1},"Style":"Default","ToolTipValue":null,"Visible":true,"Elements":[{"__type":"Ticks:#PerpetuumSoft.Instrumentation.Model","Active":true,"BreakEventsBubbling":false,"CssClass":{},"Fill":{"__type":"SolidFill:#PerpetuumSoft.Framework.Drawing","Color":{"knownColor":164,"name":null,"state":1,"value":0}},"JSBindingsText":"this.setDistance((this.getInstrument().getByName('Instrument') .getSize() .getY()*0.12));\u000athis.setLength((this.getInstrument().getByName('Instrument') .getSize() .getY()*0.12));\u000athis.setSubLength((this.getInstrument().getByName('Instrument') .getSize() .getY()*0.08));\u000a","Name":"Ticks1","RecalculateAll":false,"Smooth":true,"Stroke":{"__type":"SimpleStroke:#PerpetuumSoft.Framework.Drawing","Width":5,"Color":{"knownColor":164,"name":null,"state":1,"value":0},"DashLenght":5,"DotLenght":1,"SpaceLenght":2,"Style":1},"Style":"Default","ToolTipValue":null,"Visible":true,"Colorizer":null,"Distance":96,"Dock":0,"MaxLimitWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"MinLimitWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"OriginWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"Padding":0,"Divisions":10,"StepWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"SubDivisions":5,"SubTicksPosition":0,"UseDescreteValues":false,"UseRoundValues":false,"Length":96,"SubLength":64},{"__type":"LinearLevel:#PerpetuumSoft.Instrumentation.Model","Active":true,"BreakEventsBubbling":false,"CssClass":{},"Fill":null,"JSBindingsText":"this.setWidth((this.getInstrument().getByName('Instrument') .getSize() .getY()*0.19));\u000athis.setPocketRadius((this.getInstrument().getByName('Instrument') .getSize() .getY()*0.16));\u000a","Name":"LinearLevel1","RecalculateAll":false,"Smooth":true,"Stroke":{"__type":"EmptyStroke:#PerpetuumSoft.Framework.Drawing","Width":0},"Style":"Default","ToolTipValue":null,"Visible":true,"Colorizer":null,"Distance":0,"Dock":3,"MaxLimitWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"MinLimitWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"OriginWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"Padding":0,"ValueWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"Colors":[],"Divisions":0,"DivisionsStroke":null,"EndColor":{"knownColor":164,"name":null,"state":1,"value":0},"StartColor":{"knownColor":164,"name":null,"state":1,"value":0},"Effect3D":2,"EndCap":1,"PocketRadius":128,"ShowAsThermometer":true,"StartCap":1,"Width":152},{"__type":"LinearLevel:#PerpetuumSoft.Instrumentation.Model","Active":true,"BreakEventsBubbling":false,"CssClass":{},"Fill":{"__type":"MultiGradientFill:#PerpetuumSoft.Framework.Drawing","Angle":0,"Colors":[{"__type":"GradientColor:#PerpetuumSoft.Framework.Drawing","Color":{"knownColor":0,"name":null,"state":2,"value":4278689005},"Portion":0},{"__type":"GradientColor:#PerpetuumSoft.Framework.Drawing","Color":{"knownColor":0,"name":null,"state":2,"value":4278689005},"Portion":0.07407407407407407},{"__type":"GradientColor:#PerpetuumSoft.Framework.Drawing","Color":{"knownColor":0,"name":null,"state":2,"value":4294901766},"Portion":1}]},"JSBindingsText":"this.setValue(this.getInstrument().getByName('Slider1').getAnimationValue());\u000athis.setWidth((this.getInstrument().getByName('Instrument') .getSize() .getY()*0.15));\u000a","Name":"LinearLevel2","RecalculateAll":false,"Smooth":true,"Stroke":{"__type":"EmptyStroke:#PerpetuumSoft.Framework.Drawing","Width":0},"Style":"Default","ToolTipValue":null,"Visible":true,"Colorizer":null,"Distance":0,"Dock":3,"MaxLimitWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"MinLimitWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"OriginWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"Padding":0,"ValueWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":1,"Value":60},"Colors":[],"Divisions":0,"DivisionsStroke":null,"EndColor":{"knownColor":164,"name":null,"state":1,"value":0},"StartColor":{"knownColor":164,"name":null,"state":1,"value":0},"Effect3D":2,"EndCap":0,"PocketRadius":0,"ShowAsThermometer":false,"StartCap":1,"Width":120},{"__type":"Circle:#PerpetuumSoft.Instrumentation.Model","Active":true,"BreakEventsBubbling":false,"CssClass":{},"Fill":{"__type":"SolidFill:#PerpetuumSoft.Framework.Drawing","Color":{"knownColor":0,"name":null,"state":2,"value":4278689005}},"JSBindingsText":"this.setCenter(new PerfectWidgets.Framework.DataObjects.Vector((this.getInstrument().getByName('Instrument') .getSize() .getX()*0.165),(this.getInstrument().getByName('Instrument') .getSize() .getY()*0.5)));\u000athis.setRadius((this.getInstrument().getByName('Instrument') .getSize() .getY()*0.135));\u000a","Name":"Circle1","RecalculateAll":false,"Smooth":true,"Stroke":{"__type":"EmptyStroke:#PerpetuumSoft.Framework.Drawing","Width":0},"Style":"Default","ToolTipValue":null,"Visible":true,"Center":{"Height":400,"Length":457.84010582298271,"Rotation":1.0626901324758089,"Width":222.75,"X":222.75,"Y":400},"Radius":108},{"__type":"Ticks:#PerpetuumSoft.Instrumentation.Model","Active":true,"BreakEventsBubbling":false,"CssClass":{},"Fill":null,"JSBindingsText":"this.setDistance((-this.getInstrument().getByName('Instrument') .getSize() .getY()*0.12));\u000athis.setLength((-this.getInstrument().getByName('Instrument') .getSize() .getY()*0.12));\u000athis.setSubLength((-this.getInstrument().getByName('Instrument') .getSize() .getY()*0.08));\u000a","Name":"Ticks2","RecalculateAll":false,"Smooth":true,"Stroke":{"__type":"SimpleStroke:#PerpetuumSoft.Framework.Drawing","Width":5,"Color":{"knownColor":164,"name":null,"state":1,"value":0},"DashLenght":5,"DotLenght":1,"SpaceLenght":2,"Style":1},"Style":"Default","ToolTipValue":null,"Visible":true,"Colorizer":null,"Distance":-96,"Dock":0,"MaxLimitWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"MinLimitWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"OriginWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"Padding":0,"Divisions":10,"StepWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"SubDivisions":4,"SubTicksPosition":0,"UseDescreteValues":false,"UseRoundValues":false,"Length":-96,"SubLength":-64}],"MaxLimit":{"Kind":0,"Value":0},"MinLimit":{"Kind":0,"Value":0},"Step":0,"Value":60},{"__type":"ScaleLabels:#PerpetuumSoft.Instrumentation.Model","Active":true,"BreakEventsBubbling":false,"CssClass":{},"Fill":{"__type":"SolidFill:#PerpetuumSoft.Framework.Drawing","Color":{"knownColor":35,"name":null,"state":1,"value":0}},"JSBindingsText":"this.setDistance((this.getInstrument().getByName('Instrument') .getSize() .getY()*0.32));\u000a","Name":"ScaleLabels1","RecalculateAll":false,"Smooth":true,"Stroke":{"__type":"SimpleStroke:#PerpetuumSoft.Framework.Drawing","Width":1,"Color":{"knownColor":35,"name":null,"state":1,"value":0},"DashLenght":5,"DotLenght":1,"SpaceLenght":2,"Style":1},"Style":"Default","ToolTipValue":null,"Visible":true,"Colorizer":{"__type":"SingleColorColorizer:#PerpetuumSoft.Instrumentation.Model.Drawing","Color":{"knownColor":164,"name":null,"state":1,"value":0}},"Distance":256,"Dock":0,"MaxLimitWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":1,"Value":60},"MinLimitWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":1,"Value":-40},"OriginWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"Padding":0,"Font":{"Bold":1,"FamilyName":"Arial Narrow","Italic":2,"Size":15,"Strikeout":2,"Underline":2},"Format":{"CurrencyNegativePattern":0,"CurrencyPositivePattern":0,"CurrencySymbol":"$","DateSeparator":".","DecimalPlaces":2,"DecimalSeparator":".","FormatMask":"","FormatStyle":0,"GroupSeparator":" ","NumberNegativePattern":0,"PercentNegativePattern":0,"PercentPositivePattern":0,"UseCultureSettings":true,"UseGroupSeparator":true},"Formula":"","ItemMargins":{},"OddLabelsDistance":0,"Position":1,"ShowSuperposableLabels":true,"TextAlignment":1,"TextAngle":0,"TextRotationMode":0,"Divisions":10,"StepWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"UseRoundValues":false}],"Colorizer":null,"Maximum":60,"Minimum":-40,"Reverse":false},{"__type":"Scale:#PerpetuumSoft.Instrumentation.Model","Active":true,"BreakEventsBubbling":false,"CssClass":{},"Fill":null,"JSBindingsText":null,"Name":"Scale2","RecalculateAll":false,"Smooth":true,"Stroke":{"__type":"SimpleStroke:#PerpetuumSoft.Framework.Drawing","Width":1,"Color":{"knownColor":35,"name":null,"state":1,"value":0},"DashLenght":5,"DotLenght":1,"SpaceLenght":2,"Style":1},"Style":"Default","ToolTipValue":null,"Visible":true,"Elements":[{"__type":"ScaleLabels:#PerpetuumSoft.Instrumentation.Model","Active":true,"BreakEventsBubbling":false,"CssClass":{},"Fill":{"__type":"SolidFill:#PerpetuumSoft.Framework.Drawing","Color":{"knownColor":35,"name":null,"state":1,"value":0}},"JSBindingsText":"this.setDistance((-this.getInstrument().getByName('Instrument') .getSize() .getY()*0.32));\u000a","Name":"ScaleLabels2","RecalculateAll":false,"Smooth":true,"Stroke":{"__type":"EmptyStroke:#PerpetuumSoft.Framework.Drawing","Width":0},"Style":"Default","ToolTipValue":null,"Visible":true,"Colorizer":{"__type":"SingleColorColorizer:#PerpetuumSoft.Instrumentation.Model.Drawing","Color":{"knownColor":164,"name":null,"state":1,"value":0}},"Distance":-256,"Dock":0,"MaxLimitWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"MinLimitWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"OriginWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"Padding":0,"Font":{"Bold":1,"FamilyName":"Arial Narrow","Italic":2,"Size":15,"Strikeout":2,"Underline":2},"Format":{"CurrencyNegativePattern":0,"CurrencyPositivePattern":0,"CurrencySymbol":"$","DateSeparator":".","DecimalPlaces":2,"DecimalSeparator":".","FormatMask":"","FormatStyle":0,"GroupSeparator":" ","NumberNegativePattern":0,"PercentNegativePattern":0,"PercentPositivePattern":0,"UseCultureSettings":true,"UseGroupSeparator":true},"Formula":"","ItemMargins":{},"OddLabelsDistance":0,"Position":1,"ShowSuperposableLabels":true,"TextAlignment":1,"TextAngle":0,"TextRotationMode":0,"Divisions":9,"StepWrapper":{"__type":"SmartValueWrapper:#PerpetuumSoft.Instrumentation.Model","Kind":0,"Value":0},"UseRoundValues":false}],"Colorizer":null,"Maximum":140,"Minimum":-40,"Reverse":false}],"Margins":{},"Align":0,"EndPoint":{"Height":400,"Length":1279.1501084704641,"Rotation":0.31804228956504843,"Width":1215,"X":1215,"Y":400},"GuideDirection":0,"StartPoint":{"Height":400,"Length":514.75819566083646,"Rotation":0.88998749787906906,"Width":324,"X":324,"Y":400}},{"__type":"Label:#PerpetuumSoft.Instrumentation.Model","Active":true,"BreakEventsBubbling":false,"CssClass":{},"Fill":{"__type":"SolidFill:#PerpetuumSoft.Framework.Drawing","Color":{"knownColor":164,"name":null,"state":1,"value":0}},"JSBindingsText":"this.setCenter(new PerfectWidgets.Framework.DataObjects.Vector((this.getInstrument().getByName('Instrument') .getSize() .getX()*0.09),(this.getInstrument().getByName('Instrument') .getSize() .getY()*0.75)));\u000a","Name":"Label1","RecalculateAll":false,"Smooth":true,"Stroke":{"__type":"EmptyStroke:#PerpetuumSoft.Framework.Drawing","Width":0},"Style":"Default","ToolTipValue":null,"Visible":true,"Center":{"Height":600,"Length":612.17828285557471,"Rotation":1.3709980805545818,"Width":121.5,"X":121.5,"Y":600},"Size":{"Height":100,"Length":180.27756377319946,"Rotation":0.5880026035475675,"Width":150,"X":150,"Y":100},"Angle":0,"Font":{"Bold":2,"FamilyName":"Arial","Italic":2,"Size":24,"Strikeout":2,"Underline":2},"Margins":{},"Text":"C","TextAlign":32},{"__type":"Label:#PerpetuumSoft.Instrumentation.Model","Active":true,"BreakEventsBubbling":false,"CssClass":{},"Fill":{"__type":"SolidFill:#PerpetuumSoft.Framework.Drawing","Color":{"knownColor":164,"name":null,"state":1,"value":0}},"JSBindingsText":"this.setCenter(new PerfectWidgets.Framework.DataObjects.Vector((this.getInstrument().getByName('Instrument') .getSize() .getX()*0.09),(this.getInstrument().getByName('Instrument') .getSize() .getY()*0.25)));\u000a","Name":"Label2","RecalculateAll":false,"Smooth":true,"Stroke":{"__type":"EmptyStroke:#PerpetuumSoft.Framework.Drawing","Width":0},"Style":"Default","ToolTipValue":null,"Visible":true,"Center":{"Height":200,"Length":234.01335431979089,"Rotation":1.0248803630050234,"Width":121.5,"X":121.5,"Y":200},"Size":{"Height":100,"Length":180.27756377319946,"Rotation":0.5880026035475675,"Width":150,"X":150,"Y":100},"Angle":0,"Font":{"Bold":2,"FamilyName":"Arial","Italic":2,"Size":24,"Strikeout":2,"Underline":2},"Margins":{},"Text":"F","TextAlign":32}],"Enabled":true,"Focused":false,"GridStep":50,"IsFixed":false,"MeasureUnit":{},"Parameters":[],"ShowGrid":true,"Size":{"Height":800,"Length":1569.2354826475216,"Rotation":0.53495507378609641,"Width":1350,"X":1350,"Y":800},"SnapToGrid":true,"Styles":[{"__type":"Style:#PerpetuumSoft.Instrumentation.Styles","Fill":null,"Font":{"Bold":0,"FamilyName":"Microsoft Sans Serif","Italic":0,"Size":10,"Strikeout":0,"Underline":0},"Image":null,"Name":"Default","Stroke":{"__type":"SimpleStroke:#PerpetuumSoft.Framework.Drawing","Width":1,"Color":{"knownColor":35,"name":null,"state":1,"value":0},"DashLenght":5,"DotLenght":1,"SpaceLenght":2,"Style":1}}]};
            //creating widget
            var widget = new PerfectWidgets.Widget("containerSl1", jsonModel);
            //getting slider object
            slider = widget.getByName("Slider1");
        }
        //
         setInterval(function()
        {
            var ValorDaDivStr = $("#barra_temperatura").text();  
            var ValorDaDivInt = parseInt(ValorDaDivStr)
            slider.setValue(ValorDaDivInt);

        }, 500);

</script>

<script type="text/html" id="joystick-view">
    <canvas id="joystickCanvas" width="<%= squareSize %>" height="<%= squareSize %>" style="width: <%= squareSize %>px; height: <%= squareSize %>px;">
    </canvas>
</script>

<script type="text/javascript">
    $(document).ready(function(){
        var joystickView = new JoystickView(150, function(callbackView){
            $("#joystickContent").append(callbackView.render().el);
            setTimeout(function(){
                callbackView.renderSprite();
            }, 0);
        });
        joystickView.bind("verticalMove", function(y){
            $("#yVal").html(y);
        });
        joystickView.bind("horizontalMove", function(x){
            $("#xVal").html(x);
        });
    });
</script>

<script>

    $(document).ready(function(){autoupdate_geral();})

    function update_potenciometro()
    {
        $.get("/update_potenciometro",{},
        function(data)
        {
            console.log(data);
            $('#barra_potenciometro').css('width', data).attr('aria-valuenow', data);
            $('#barra_potenciometro').text(data);
        });
    }

    function update_temperatura()
    {
        $.get("/update_temperatura",{},
        function(data)
        {
            console.log(data);
            $('#barra_temperatura').css('width', data).attr('aria-valuenow', data);
            $('#barra_temperatura').text(data);
        });
    }

    function autoupdate_geral()
    {
        update_temperatura();
        update_potenciometro();
        setTimeout(function(){autoupdate_geral();}, 200);
    }

</script>



{% endblock %}
